
@using Microsoft.AspNetCore.Hosting
@using Microsoft.AspNetCore.Mvc.ViewEngines
@inject IWebHostEnvironment Environment
@inject ICompositeViewEngine Engine

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - InterviewPortal.API</title>

    <!-- Development CSS -->
    <environment include="Development">
        <link rel="stylesheet" href="~/Identity/lib/bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="~/Identity/css/site.css" />
    </environment>

    <!-- Production CSS -->
    <environment exclude="Development">
        <!-- Bootstrap 5 CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-9ndCyUa6mY5F8j0v4mDVRD5vDZG+E4PQxFLYv0dZ2JpZ8p1V4A2Vn9FU8wE6D9wH" crossorigin="anonymous" />

        <!-- Optional: Font Awesome for icons -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
              integrity="sha512-j0CqC5b4ZJ7qtm1sKXYEwDkHkzz7cfQzXv74DkZdKvjz2kJbGShSP+ZT8xkHcX3hpzPLx1bFJ8i8YcZb+W0BA=="
              crossorigin="anonymous" referrerpolicy="no-referrer" />

        <link rel="stylesheet" href="~/Identity/css/site.css" asp-append-version="true" />
    </environment>

    <!-- Custom Layout CSS -->
    <link rel="stylesheet" href="~/css/Layout.css" asp-append-version="true" />

    <!-- Optional: Page-specific CSS -->
    @RenderSection("PageStyles", required: false)
</head>

<body class="@(ViewData["Title"] == "Log in" ? "login-page" : "")">

    <!-- Header / Navbar -->
   
        <header>
            <nav class="navbar navbar-expand-sm navbar-custom shadow-sm">
                <div class="container d-flex justify-content-between align-items-center">

                    <a class="navbar-brand d-flex align-items-center gap-2" href="/">
                        <img src="~/images/logo.png" class="nav-logo" alt="Logo" />
                        <span class="navbar-title">
                            Interview<span>Portal</span>
                        </span>
                    </a>

                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
                        @{
                            var result = Engine.FindView(ViewContext, "_LoginPartial", isMainPage: false);
                        }
                        @if (result.Success)
                        {
                            await Html.RenderPartialAsync("_LoginPartial");
                        }
                    </div>

                </div>
            </nav>
       

    </header>

    <!-- Main Body -->
    <main role="main" class="container py-4">
        @RenderBody()
    </main>

    <footer class="footer-custom text-center mt-5 py-3">
        <div class="container">
            <span class="footer-text">© 2025 InterviewPortal — All Rights Reserved</span>
            @{
                var foundPrivacy = Url.Page("/Privacy", new { area = "" });
            }
            @if (foundPrivacy != null)
            {
                <span> | <a asp-area="" asp-page="/Privacy" class="footer-link">Privacy</a></span>
            }
        </div>
    </footer>

    <!-- Development Scripts -->
    <environment include="Development">
        <script src="~/Identity/lib/jquery/dist/jquery.js"></script>
        <script src="~/Identity/lib/bootstrap/dist/js/bootstrap.bundle.js"></script>
        <script src="~/Identity/js/site.js" asp-append-version="true"></script>
    </environment>

    <!-- Production Scripts -->
    <environment exclude="Development">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
                integrity="sha512-3gJwYp3T1i9xJ+4Z1nXqPQhrQO9+X1+o0dB5Z+LQpBvM1YbkKvxFrfR0yK3hj4pZs0Ll8Bz4+VmsqvD+I3rj1g=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-QFhX5Xq8c+3s1p2Pp4kYt8IhZ+Ogx7C6q0c2O6eS5z4Y+N6pYd9hU2rK5mO3N7rH"
                crossorigin="anonymous"></script>
        <script src="~/Identity/js/site.js" asp-append-version="true"></script>
    </environment>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
